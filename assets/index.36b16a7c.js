import{l as T,p as v,r as g,q as $,v as h,x as p,w as q,y as S,z as N,F as L,A as M,B as _,C as l,D as A,E as y,G as O,H as V,I as z,k as H,u as I,J as W,K as B,L as j,M as G}from"./vendor.vue.a164d327.js";import{d as X,c as R}from"./vendor.pinia.50f5ba70.js";import{S as Z,P as U,V as C,O as K,B as Y,M as J,a as Q,E as ee,L as te,b as ne,W as se}from"./vendor.three.b7a97dce.js";import{u as oe}from"./vendor.@vueuse.c056a393.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();const f=(e,t)=>{const n=e.__vccOpts||e;for(const[i,s]of t)n[i]=s;return n},ie={};function ae(e,t){return T(e.$slots,"default")}const re=f(ie,[["render",ae]]),b=new Z,w=X("canvas",{state:()=>({camera:new U,controls:{}}),actions:{updateCamera(){const e=x();if(e.items.length>1){const t=e.middlePositionX-1,n=e.maxHeight*1.25,i=e.maxLength*1.25;this.camera.position.set(t,n,i);const s=t+1,o=n-1,a=i-1;this.camera.lookAt(s,o,a),this.controls.target=new C(s,o,a)}if(e.items.length===1){const t=-e.maxWidth*1.25,n=e.maxHeight*1.25,i=e.maxLength*1.25;this.camera.position.set(t,n,i);const s=0,o=0,a=0;this.camera.lookAt(s,o,a),this.controls.target=new C(s,o,a);return}},initOrbitControls(e,t){this.controls=new K(e,t),this.controls.maxDistance=1/0},clearScene(){b.clear()}}});function ce(){const e=["#9D44B5","#34312D","#B5446E","#80B192","#8D918B","#CE84AD","#210124","#00A878","#750D37","#345995","#9B2915","#50A2A7","#0496FF","#05204A","#558564","#5AB1BB","#34D1BF","#C492B1","#E9B44C","#57C4E5","#84A9C0","#9DACFF","#FFB400","#6FFFE9","#96E072","#B8B42D"];return e[Math.floor(Math.random()*e.length)]}function le(e){return+e.replace(/#/,"0x")}function u(e,t){switch(t){case"mm":return e;case"cm":return e*10;case"m":return e*1e3;case"in":return+(e*25.4).toFixed(4);case"ft":return+(e*304.8).toFixed(4);case"ya":return+(e*914.4).toFixed(4);case"mi":return+(e*1609344).toFixed(4);default:return e}}const x=X("items",{state:()=>({items:oe("drawable-items",[])}),getters:{maxWidth:e=>{if(!e.items.length)return 0;const t=[];for(const n of e.items)t.push(u(n.width,n.dimensionAbbr));return Math.max(...t)},maxHeight:e=>{if(!e.items.length)return 0;const t=[];for(const n of e.items)t.push(u(n.height,n.dimensionAbbr));return Math.max(...t)},maxLength:e=>{if(!e.items.length)return 0;const t=[];for(const n of e.items)t.push(u(n.height,n.dimensionAbbr));return Math.max(...t)},middlePositionX:e=>{var i,s,o,a;if(!e.items.length||e.items.length===1)return 0;const t=(s=(i=e.items.at(0))==null?void 0:i.positionX)!=null?s:0,n=(a=(o=e.items.at(-1))==null?void 0:o.positionX)!=null?a:0;return(t+n)/2}},actions:{createItem(e){var d;const t=u(e.width,e.dimensionAbbr),n=u(e.height,e.dimensionAbbr),i=u(e.length,e.dimensionAbbr),s=new Y(t,n,i),o=new J({color:le(e.color)}),a=new Q(s,o);a.name=e.name,a.position.setX((d=e.positionX)!=null?d:0);const m=new ee(a.geometry),r=new te({color:16777215}),c=new ne(m,r);return a.add(c),a},addItem(e){e.positionX=this.calcCurrentPositionX(e.width,e.dimensionAbbr);const t=e;this.items.push(t);const n=this.createItem(e);b.add(n),w().updateCamera()},initScene(){if(!this.items.length)return;const e=[];for(const n of this.items)e.push(this.createItem(n));const t=w();b.add(...e),t.updateCamera()},repositionItems(){var t;const e=this.items;for(let n=0;n<e.length;n++){const i=e[n-1],s=e[n];if(s===e[0]){s.positionX=0;continue}const o=(t=i.positionX)!=null?t:0,a=u(i.width,i.dimensionAbbr)/2,m=u(s.width,s.dimensionAbbr)/2;s.positionX=o+a+m}},calcCurrentPositionX(e,t){const n=this.items.at(-1);return n?(n.positionX||(n.positionX=0),n.positionX+u(n.width,n.dimensionAbbr)/2+u(e,t)/2):0},removeItem(e){const t=w();this.items.splice(e,1),t.clearScene(),this.repositionItems(),this.initScene(),t.updateCamera()}}}),me=v({__name:"TheCanvas",setup(e){const t=g(),{initScene:n}=x(),{camera:i,initOrbitControls:s}=w();return $(()=>{if(t.value===void 0)throw new Error("Canvas not found");const o=new se({canvas:t.value});o.setPixelRatio(Math.min(window.devicePixelRatio,2)),o.render(b,i),s(i,o.domElement),n();function a(){const r=o.domElement,c=r.clientWidth,d=r.clientHeight;(r.width!==c||r.height!==d)&&(o.setSize(c,d,!1),i.aspect=c/d,i.updateProjectionMatrix())}window.addEventListener("DOMContentLoaded",()=>{const r=o.domElement,c=r.clientWidth,d=r.clientHeight;o.setSize(c,d,!1),i.aspect=c/d,i.updateProjectionMatrix()}),window.addEventListener("resize",a);function m(){requestAnimationFrame(m),o.render(b,i)}m()}),(o,a)=>(h(),p("canvas",{id:"canvas",ref_key:"canvas",ref:t},null,512))}});const de=f(me,[["__scopeId","data-v-6ec0f63e"]]),ue=["value"],he=v({__name:"TheSelect",emits:["toogle"],setup(e,{emit:t}){const n=g([{text:"millimeter",value:"mm"},{text:"centimeter",value:"cm"},{text:"meter",value:"m"},{text:"inch",value:"in"},{text:"feet",value:"ft"},{text:"yards",value:"ya"},{text:"miles",value:"mi"}]),i=g("mm");return q(i,()=>{t("toogle",i.value)}),(s,o)=>S((h(),p("select",{"onUpdate:modelValue":o[0]||(o[0]=a=>i.value=a),class:"select",name:"dimensionAbbreviation"},[(h(!0),p(L,null,M(n.value,a=>(h(),p("option",{key:a.value,value:a.value,class:"select__option"},_(a.text),9,ue))),128))],512)),[[N,i.value]])}});const _e=f(he,[["__scopeId","data-v-bd1e12b4"]]);function pe(e){const t=/(\d+(?:\.\d+)?), ?(\d+(?:\.\d+)?), ?(\d+(?:\.\d+)?)/,n=e.match(t);if(!!n)return{data:n[0],height:+n[1],width:+n[2],length:+n[3]}}const F=e=>(O("data-v-3ab08059"),e=e(),V(),e),fe={class:"menu"},ge={class:"item"},ve=F(()=>l("label",{class:"item__label",for:"item__name"},"Item name",-1)),be={class:"item"},xe=F(()=>l("label",{class:"item__label",for:"item__params"},"Item size",-1)),ye=v({__name:"TheMenu",setup(e){const t=g("mm");function n(m){t.value=m}const i=x(),s=g(""),o=g("");function a(){if(!s.value||!o.value){alert("Enter the object name, height, width and length");return}const m=pe(o.value);if(!m)return;const{height:r,width:c,length:d}=m,E=s.value,P=ce(),k=t.value,D={height:r,width:c,length:d,name:E,color:P,dimensionAbbr:k};i.addItem(D),s.value="",o.value=""}return(m,r)=>(h(),p("div",fe,[l("div",ge,[S(l("input",{id:"item__name","onUpdate:modelValue":r[0]||(r[0]=c=>s.value=c),type:"text",class:"item__input",placeholder:"box 1",required:""},null,512),[[A,s.value]]),ve]),l("div",be,[S(l("input",{id:"item__params","onUpdate:modelValue":r[1]||(r[1]=c=>o.value=c),type:"text",class:"item__input",placeholder:"width, height, length",required:""},null,512),[[A,o.value]]),xe]),y(_e,{onToogle:n}),l("button",{class:"menu__button-submit",type:"button",onClick:a}," Add item ")]))}});const we=f(ye,[["__scopeId","data-v-3ab08059"]]),Ie="/compare-sizes/assets/xmark-solid.67154278.svg",Se={class:"item"},Ae=["data"],Ce=v({__name:"ItemsListItem",props:{index:{type:Number,required:!0},height:{type:Number,required:!0},width:{type:Number,required:!0},length:{type:Number,required:!0},name:{type:String,required:!0},color:{type:String,required:!0},dimensionAbbr:{type:String,required:!0}},setup(e){const t=e;z(o=>({"336231be":I(i)}));const n=x(),i=H(()=>t.color);function s(){n.removeItem(t.index)}return(o,a)=>(h(),p("div",Se,[l("div",null,_(t.name),1),l("div",null," ("+_(t.height)+_(e.dimensionAbbr)+" x "+_(t.width)+_(e.dimensionAbbr)+" x "+_(t.length)+_(e.dimensionAbbr)+") ",1),l("button",{type:"button",class:"close","aria-label":"delete item",onClick:s},[l("object",{class:"close__icon",type:"image/svg+xml",data:I(Ie),"aria-hidden":"true",focusable:"false",tabindex:"-1"},null,8,Ae)])]))}});const Le=f(Ce,[["__scopeId","data-v-0ebafd30"]]),Me={key:0,class:"item-list"},Be=v({__name:"ItemsList",setup(e){const{items:t}=x();return(n,i)=>I(t).length?(h(),p("section",Me,[(h(!0),p(L,null,M(I(t),(s,o)=>(h(),B(Le,{key:o,index:o,height:s.height,width:s.width,length:s.length,name:s.name,color:s.color,"dimension-abbr":s.dimensionAbbr},null,8,["index","height","width","length","name","color","dimension-abbr"]))),128))])):W("",!0)}});const Xe=f(Be,[["__scopeId","data-v-3054dd67"]]),Fe={class:"intro"},Ee={class:"menu-container"},Pe=v({__name:"App",setup(e){return window.matchMedia("(prefers-color-scheme: dark)").matches&&document.documentElement.classList.add("dark"),(t,n)=>(h(),B(re,null,{default:j(()=>[l("main",Fe,[y(de),l("div",Ee,[y(we),y(Xe)])])]),_:1}))}});const ke=f(Pe,[["__scopeId","data-v-5aeb66a1"]]);G(ke).use(R()).mount("#app");
