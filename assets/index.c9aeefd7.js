import{l as M,p as g,r as v,q as T,v as m,x as _,w as H,y as A,z as W,F as X,A as F,B as f,C as j,f as G,D as l,E as b,G as I,H as k,I as B,J as S,K as $,T as R,L as U,M as Z,N as K,k as Y,u as C,O as J}from"./vendor.vue.322c4124.js";import{d as E,c as Q}from"./vendor.pinia.4a9b09b4.js";import{S as ee,P as te,V as L,O as ne,B as se,M as oe,a as ie,E as ae,L as re,b as ce,W as de}from"./vendor.three.b7a97dce.js";import{u as le}from"./vendor.@vueuse.ad98eb61.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();const h=(e,t)=>{const n=e.__vccOpts||e;for(const[i,s]of t)n[i]=s;return n},me={};function ue(e,t){return M(e.$slots,"default")}const _e=h(me,[["render",ue]]),y=new ee,w=E("canvas",{state:()=>({camera:new te,controls:{}}),actions:{updateCamera(){const e=x();if(e.items.length>1){const t=e.middlePositionX-1,n=e.maxHeight*1.25,i=e.maxLength*1.25;this.camera.position.set(t,n,i);const s=t+1,o=n-1,a=i-1;this.camera.lookAt(s,o,a),this.controls.target=new L(s,o,a)}if(e.items.length===1){const t=-e.maxWidth*1.25,n=e.maxHeight*1.25,i=e.maxLength*1.25;this.camera.position.set(t,n,i);const s=0,o=0,a=0;this.camera.lookAt(s,o,a),this.controls.target=new L(s,o,a);return}},initOrbitControls(e,t){this.controls=new ne(e,t),this.controls.maxDistance=1/0},clearScene(){y.clear()}}});function he(){const e=["#9D44B5","#34312D","#B5446E","#80B192","#8D918B","#CE84AD","#210124","#00A878","#750D37","#345995","#9B2915","#50A2A7","#0496FF","#05204A","#558564","#5AB1BB","#34D1BF","#C492B1","#E9B44C","#57C4E5","#84A9C0","#9DACFF","#FFB400","#6FFFE9","#96E072","#B8B42D"];return e[Math.floor(Math.random()*e.length)]}function pe(e){return+e.replace(/#/,"0x")}function u(e,t){switch(t){case"mm":return e;case"cm":return e*10;case"m":return e*1e3;case"in":return+(e*25.4).toFixed(4);case"ft":return+(e*304.8).toFixed(4);case"ya":return+(e*914.4).toFixed(4);case"mi":return+(e*1609344).toFixed(4);default:return e}}const x=E("items",{state:()=>({items:le("drawable-items",[])}),getters:{maxWidth:e=>{if(!e.items.length)return 0;const t=[];for(const n of e.items)t.push(u(n.width,n.dimensionAbbr));return Math.max(...t)},maxHeight:e=>{if(!e.items.length)return 0;const t=[];for(const n of e.items)t.push(u(n.height,n.dimensionAbbr));return Math.max(...t)},maxLength:e=>{if(!e.items.length)return 0;const t=[];for(const n of e.items)t.push(u(n.height,n.dimensionAbbr));return Math.max(...t)},middlePositionX:e=>{var i,s,o,a;if(!e.items.length||e.items.length===1)return 0;const t=(s=(i=e.items.at(0))==null?void 0:i.positionX)!=null?s:0,n=(a=(o=e.items.at(-1))==null?void 0:o.positionX)!=null?a:0;return(t+n)/2}},actions:{createItem(e){var c;const t=u(e.width,e.dimensionAbbr),n=u(e.height,e.dimensionAbbr),i=u(e.length,e.dimensionAbbr),s=new se(t,n,i),o=new oe({color:pe(e.color)}),a=new ie(s,o);a.name=e.name,a.position.setX((c=e.positionX)!=null?c:0);const p=new ae(a.geometry),d=new re({color:16777215}),r=new ce(p,d);return a.add(r),a},addItem(e){e.positionX=this.calcCurrentPositionX(e.width,e.dimensionAbbr);const t=e;this.items.push(t);const n=this.createItem(e);y.add(n),w().updateCamera()},initScene(){if(!this.items.length)return;const e=[];for(const n of this.items)e.push(this.createItem(n));y.add(...e),w().updateCamera()},repositionItems(){var t;const e=this.items;for(let n=0;n<e.length;n++){const i=e[n-1],s=e[n];if(s===e[0]){s.positionX=0;continue}const o=(t=i.positionX)!=null?t:0,a=u(i.width,i.dimensionAbbr)/2,p=u(s.width,s.dimensionAbbr)/2;s.positionX=o+a+p}},calcCurrentPositionX(e,t){const n=this.items.at(-1);return n?(n.positionX||(n.positionX=0),n.positionX+u(n.width,n.dimensionAbbr)/2+u(e,t)/2):0},removeItem(e){this.items.splice(e,1);const t=w();t.clearScene(),this.repositionItems(),this.initScene(),t.updateCamera()}}}),fe=g({__name:"TheCanvas",setup(e){const t=v(),{initScene:n}=x(),{camera:i,initOrbitControls:s}=w();return T(()=>{if(t.value===void 0)throw new Error("Canvas not found");const o=new de({canvas:t.value});o.setPixelRatio(Math.min(window.devicePixelRatio,2)),o.render(y,i),s(i,o.domElement),n();function a(){const d=o.domElement,r=d.clientWidth,c=d.clientHeight;(d.width!==r||d.height!==c)&&(o.setSize(r,c,!1),i.aspect=r/c,i.updateProjectionMatrix())}window.addEventListener("DOMContentLoaded",()=>{const d=o.domElement,r=d.clientWidth,c=d.clientHeight;o.setSize(r,c,!1),i.aspect=r/c,i.updateProjectionMatrix()}),window.addEventListener("resize",a);function p(){requestAnimationFrame(p),o.render(y,i)}p()}),(o,a)=>(m(),_("canvas",{id:"canvas",ref_key:"canvas",ref:t},null,512))}});const ve=h(fe,[["__scopeId","data-v-6ec0f63e"]]),ge=["value"],be=g({__name:"TheDimensionSelect",emits:["toogle"],setup(e,{emit:t}){const n=v([{text:"millimeter",value:"mm"},{text:"centimeter",value:"cm"},{text:"meter",value:"m"},{text:"inch",value:"in"},{text:"feet",value:"ft"},{text:"yards",value:"ya"},{text:"miles",value:"mi"}]),i=v("mm");return H(i,()=>{t("toogle",i.value)}),(s,o)=>A((m(),_("select",{"onUpdate:modelValue":o[0]||(o[0]=a=>i.value=a),class:"select",name:"dimensionAbbreviation"},[(m(!0),_(X,null,F(n.value,a=>(m(),_("option",{key:a.value,value:a.value,class:"select__option"},f(a.text),9,ge))),128))],512)),[[W,i.value]])}});const ye=h(be,[["__scopeId","data-v-bdd21324"]]),xe=g({__name:"TheButton",props:{wide:{type:Boolean,default:!1}},emits:["click"],setup(e,{emit:t}){function n(){t("click")}return(i,s)=>(m(),_("button",{class:j(["button",{wide:e.wide}]),type:"button",onClick:n},[M(i.$slots,"default",{},void 0,!0)],2))}});const D=h(xe,[["__scopeId","data-v-9ef52eb8"]]);function we(e){const t=/(\d+(?:\.\d+)?), ?(\d+(?:\.\d+)?), ?(\d+(?:\.\d+)?)/,n=e.match(t);if(!!n)return{data:n[0],height:+n[1],width:+n[2],length:+n[3]}}const Ie={class:"modal-outside"},Se={class:"modal-inner"},Ce={class:"text"},Ae=k("Close"),Me=g({__name:"TheModal",emits:["close"],setup(e,{emit:t}){const n=v(),i=()=>{t("close")};function s(o){if(!n.value){console.error("Modal window not found");return}n.value!==o.target&&i()}return T(()=>{setTimeout(()=>{window.addEventListener("click",s)},1)}),G(()=>{window.removeEventListener("click",s)}),(o,a)=>(m(),_("div",Ie,[l("div",Se,[l("div",{ref_key:"modal",ref:n,class:"modal"},[l("p",Ce,[M(o.$slots,"default",{class:"text"},void 0,!0)]),b(D,{class:"button-close",type:"button",onClick:i},{default:I(()=>[Ae]),_:1})],512)])]))}});const ke=h(Me,[["__scopeId","data-v-9de72a47"]]),P=e=>(U("data-v-5e1be9ec"),e=e(),Z(),e),Be={class:"menu"},Le={class:"item"},Te=P(()=>l("label",{class:"item__label",for:"item__name"},"Item name",-1)),Xe={class:"item"},Fe=P(()=>l("label",{class:"item__label",for:"item__params"},"Item size",-1)),$e=k(" Add item"),Ee=k(" Enter the object name, height, width and length "),De=g({__name:"TheMenu",setup(e){const t=v(!1),n=v("mm");function i(d){n.value=d}const s=x(),o=v(""),a=v("");function p(){if(!o.value||!a.value){t.value=!0;return}const d=we(a.value);if(!d)return;const{height:r,width:c,length:N}=d,O=o.value,q=he(),V=n.value,z={height:r,width:c,length:N,name:O,color:q,dimensionAbbr:V};s.addItem(z),o.value="",a.value=""}return(d,r)=>(m(),_("div",Be,[l("div",Le,[A(l("input",{id:"item__name","onUpdate:modelValue":r[0]||(r[0]=c=>o.value=c),type:"text",class:"item__input",placeholder:"box 1",required:""},null,512),[[B,o.value]]),Te]),l("div",Xe,[A(l("input",{id:"item__params","onUpdate:modelValue":r[1]||(r[1]=c=>a.value=c),type:"text",class:"item__input",placeholder:"width, height, length",required:""},null,512),[[B,a.value]]),Fe]),b(ye,{onToogle:i}),b(D,{onClick:p},{default:I(()=>[$e]),_:1}),(m(),S(R,{to:"body"},[t.value?(m(),S(ke,{key:0,onClose:r[2]||(r[2]=c=>t.value=!t.value)},{default:I(()=>[Ee]),_:1})):$("",!0)]))]))}});const Pe=h(De,[["__scopeId","data-v-5e1be9ec"]]),Ne="/compare-sizes/assets/xmark-solid.67154278.svg",Oe={class:"item"},qe=["data"],Ve=g({__name:"ItemsListItem",props:{index:{type:Number,required:!0},height:{type:Number,required:!0},width:{type:Number,required:!0},length:{type:Number,required:!0},name:{type:String,required:!0},color:{type:String,required:!0},dimensionAbbr:{type:String,required:!0}},setup(e){const t=e;K(o=>({"336231be":C(i)}));const n=x(),i=Y(()=>t.color);function s(){n.removeItem(t.index)}return(o,a)=>(m(),_("div",Oe,[l("div",null,f(t.name),1),l("div",null," ("+f(t.height)+f(e.dimensionAbbr)+" x "+f(t.width)+f(e.dimensionAbbr)+" x "+f(t.length)+f(e.dimensionAbbr)+") ",1),l("button",{type:"button",class:"close","aria-label":"delete item",onClick:s},[l("object",{class:"close__icon",type:"image/svg+xml",data:C(Ne),"aria-hidden":"true",focusable:"false",tabindex:"-1"},null,8,qe)])]))}});const ze=h(Ve,[["__scopeId","data-v-0ebafd30"]]),He={key:0,class:"item-list"},We=g({__name:"ItemsList",setup(e){const{items:t}=x();return(n,i)=>C(t).length?(m(),_("section",He,[(m(!0),_(X,null,F(C(t),(s,o)=>(m(),S(ze,{key:o,index:o,height:s.height,width:s.width,length:s.length,name:s.name,color:s.color,"dimension-abbr":s.dimensionAbbr},null,8,["index","height","width","length","name","color","dimension-abbr"]))),128))])):$("",!0)}});const je=h(We,[["__scopeId","data-v-3054dd67"]]),Ge={class:"intro"},Re={class:"menu-container"},Ue=g({__name:"App",setup(e){return window.matchMedia("(prefers-color-scheme: dark)").matches&&document.documentElement.classList.add("dark"),(t,n)=>(m(),S(_e,null,{default:I(()=>[l("main",Ge,[b(ve),l("div",Re,[b(Pe),b(je)])])]),_:1}))}});const Ze=h(Ue,[["__scopeId","data-v-5aeb66a1"]]);J(Ze).use(Q()).mount("#app");
